---
title: 我们为什么需要知识图谱？为什么数据表就不行了？
date: 2019-09-15 20:26:00
categories: 
- Knowledge Graph
tags:
- knowledge graph
- graph database
cover_img: /images/55432.jpg
description: 如今，知识图谱越来越火爆，无论是在理论研究、技术研究还是商业应用方面，都成为了领域热点。然而，知识图谱迸发的核心动力到底源自哪里？
keywords: knowledge graph,graph database
---

### 知识图谱

知识图谱于2012年5月17日由Google正式提出，其初衷是为了提高搜索引擎的能力。随着人工智能的技术发展和应用，作为关键技术之一，已被广泛应用于智能搜索、智能问答、个性化推荐、内容分发等领域。

知识图谱在本质上是描述实体间关系的语义网络，图数据库对于它来说是一个很好的容器。相似的，知识图谱的节点表示实体或概念，边则由属性或关系构成。根据覆盖范围而言，知识图谱可分为开放域通用知识图谱和垂直行业知识图谱。

知识图谱中的基本概念：

实体: 指的是具有可区别性且独立存在的某种事物。如某一个人、某一个城市、某一种植物等、某一种商品等等。世界万物有具体事物组成，此指实体。如图1的“中国”、“美国”、“日本”等。，实体是知识图谱中的最基本元素，不同的实体间存在不同的关系。

语义类（概念）：具有同种特性的实体构成的集合，如国家、民族、书籍、电脑等。 概念主要指集合、类别、对象类型、事物的种类，例如人物、地理等。

内容: 通常作为实体和语义类的名字、描述、解释等，可以由文本、图像、音视频等来表达。

属性(值): 从一个实体指向它的属性值。不同的属性类型对应于不同类型属性的边。属性值主要指对象指定属性的值。如图1所示的“面积”、“人口”、“首都”是几种不同的属性。属性值主要指对象指定属性的值，例如960万平方公里等。

关系: 形式化为一个函数，它把k个点映射到一个布尔值。在知识图谱上，关系则是一个把k个图节点(实体、语义类、属性值)映射到布尔值的函数。

基于上述定义，三元组是知识图谱的一种通用表示方式，如下图所示，中国是一个实体，北京是一个实体，中国-首都-北京 是一个（实体-关系-实体）的三元组样例。北京是一个实体 ，人口是一种属性2069.3万是属性值。北京-人口-2069.3万构成一个（实体-属性-属性值）的三元组样例。

![微信图片_20170930152906.jpg](http://www.talkwithtrend.com/home/attachment/201709/30/938893_150675655515508.jpg)

知识图谱用节点和关系所组成的图谱，为真实世界的各个场景直观地建模，运用“图”这种基础性、通用性的“语言”，“高保真”地表达这个多姿多彩世界的各种关系，并且非常直观、自然、直接和高效，不需要中间过程的转换和处理——这种中间过程的转换和处理，往往把问题复杂化，或者遗漏掉很多有价值的信息。总结起来，图数据库中存储的知识图谱有以下几个优势：

（1）关系的表达能力强

传统数据库通常通过表格、字段等方式进行读取，而关系的层级及表达方式多种多样，且基于图论和概率图模型，可以处理复杂多样的关联分析，满足企业各种角色关系的分析和管理需要。

（2）像人类思考一样去做分析

基于知识图谱的交互探索式分析，可以模拟人的思考过程去发现、求证、推理，业务人员自己就可以完成全部过程，不需要专业人员的协助。

（3）知识学习

利用交互式机器学习技术，支持根据推理、纠错、标注等交互动作的学习功能，不断沉淀知识逻辑和模型，提高系统智能性，将知识沉淀在企业内部，降低对经验的依赖。

（4）高速反馈

图式的数据存储方式，相比传统存储方式，数据调取速度更快，图库可计算超过百万潜在的实体的属性分布，可实现秒级返回结果，真正实现人机互动的实时响应，让用户可以做到即时决策。

然而知识图谱仅仅是纸上谈兵，在应用实践中落地则需要图数据库为其提供肉身。

### 图数据库

在数据结构中，图是由节点和关系两个元素构成，图数据库同样由这两部分构成。其中，节点表示实体（人、物、地点等），关系则代表两个实体之间的联系。

图数据库是一种非关系型数据库，它应用图形理论存储实体之间的关系信息。最常见例子就是社会网络中人与人之间的关系。关系型数据库用于存储“关系型”数据的效果并不好，可以说关系型数据库是最不擅长存储关系的数据库，其查询复杂、缓慢，而图形数据库的独特设计恰恰弥补了这个缺陷。

举个例子：假设某关系型数据库中有这么几张用户、订单、商品表：

![image](https://s3.amazonaws.com/dev.assets.neo4j.com/wp-content/uploads/20180716185458/relational-database-rdbms-model-example.jpg)

当我们要查询：“用户购买了那些商品？” 或者 “该商品有哪些客户购买过？” 需要开发人员JOIN几张表，效率非常低下。而“购买该产品的客户还购买了哪些商品？”类似的查询则更难实现。

关系型数据库需要表示多对多关系时，我们常常需要创建一个关联表来记录不同实体的多对多关系，而且这些关联表常常不用来记录信息。如果两个实体之间拥有多种关系，那么我们就需要在它们之间创建多个关联表。而在图数据库中，我们只需要在两个实体节点之间建立一条有向的线来表示某种关系。相对于关系数据库中的各种关联表，图形数据库中的关系可以通过关系能够包含属性这一功能来提供更为丰富的关系展现方式。标记属性图模型：

![关系属性](https://s3.amazonaws.com/dev.assets.neo4j.com/wp-content/uploads/20170731095054/Property-Graph-Concepts-Simple.svg)

由此可以看出，在面对大量的实体和关系时，在理论上图数据库已经展示出了更有效的存储和查询。在实践中，《Neo4j in Action》这本书的作者在关系型数据库和图数据库(Neo4j)之间进行了实验：

![image](https://s2.ax1x.com/2019/02/21/kR4tKg.md.png)

他们的实验试图在一个社交网络里找到最大深度为5的朋友的朋友。他们的数据集包括100万人，每人约有50个朋友。实验结果如下：

| 深度 | MySQL执行时间(s) | Neo4j执行时间(s) | 返回记录数 |
| ---- | ---------------- | ---------------- | ---------- |
| 2    | 0.016            | 0.01             | ~2500      |
| 3    | 30.267           | 0.168            | ~110 000   |
| 4    | 1543.505         | 1.359            | ~600 000   |
| 5    | 未完成           | 2.132            | ~800 000   |

在深度为2时（即朋友的朋友），两种数据库性能相差不是很明显；深度为3时(即朋友的朋友的朋友)，很明显，关系型数据库的响应时间30s，已经变得不可接受了；深度到4时，关系数据库需要近半个小时才能返回结果，使其无法应用于在线系统；深度到5时，关系型数据库已经无法完成查询。而对于图数据库Neo4j，深度从3到5，其响应时间均在3秒以内。

可以看出，对于图数据库来说，数据量越大，越复杂的关联查询，约有利于体现其优势。从深度为4/5的查询结果我们可以看出，图数据库返回了整个社交网络一半以上的人数，而关系型数据库此时已经束手无策。

从上文中我们可以看出，知识图谱更偏向于理论，图数据库更像一个容器或物理实现。知识图谱的很多优势都依赖于图数据库的存储方式，图数据库为知识图谱的大范围实际应用提供了可能。

### 面临的问题与挑战

知识图谱的构建：大规模知识的自动抽取技术仍处于基础阶段，虽然近年得益于深度学习的快速发展，使得自然语言处理技术有了很大的进步，对于测试数据取得了不错的效果，但在真实的应用环境中，知识抽取的准确性仍然有待提高。目前的工业实践中，仍需要投入大量人力进行知识标注。

知识图谱的存储：虽然目前图数据库已经可以用于知识图谱的存储，但对于海量的不断增长的数据，在存储、查询、更新方面依然有待提高。

知识推理：知识图谱作为人工智能的知识基石，实现实体间关系的自动推理是机器更加智能化的必经之路，而在这方面，我们的技术和人的大脑还差很远，尤其是在人类世界常识方面。

参考：

- [百度百科-图形数据库](https://baike.baidu.com/item/%E5%9B%BE%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%BA%93/5199451)
- [越来越火的图数据库究竟是什么？](https://www.cnblogs.com/mantoudev/p/10414495.html)
- 最全知识图谱综述: 概念以及构建技术



